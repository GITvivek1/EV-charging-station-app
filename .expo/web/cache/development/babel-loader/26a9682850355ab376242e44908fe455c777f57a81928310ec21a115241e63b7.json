{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport AppMapView from \"./AppMapView\";\nimport Header from \"./Header\";\nimport SearchBar from \"./SearchBar\";\nimport { UserLocationContext } from \"../../Context/UserLocationContext\";\nimport GlobalApi from \"../../Utils/GlobalApi\";\nimport PlaceListView from \"./PlaceListView\";\nimport { SelectMarkerContext } from \"../../Context/SelectMarkerContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function HomeScreen() {\n  var _useContext = useContext(UserLocationContext),\n    location = _useContext.location,\n    setLocation = _useContext.setLocation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    placeList = _useState2[0],\n    setPlaceList = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedMarker = _useState4[0],\n    setSelectedMarker = _useState4[1];\n  useEffect(function () {\n    setSelectedMarker(0);\n    location && GetNearByPlace();\n  }, [location]);\n  var GetNearByPlace = function GetNearByPlace() {\n    var data = {\n      \"includedTypes\": [\"electric_vehicle_charging_station\"],\n      \"maxResultCount\": 10,\n      \"locationRestriction\": {\n        \"circle\": {\n          \"center\": {\n            \"latitude\": location == null ? void 0 : location.latitude,\n            \"longitude\": location == null ? void 0 : location.longitude\n          },\n          \"radius\": 5000.0\n        }\n      }\n    };\n    GlobalApi.NewNearByPlace(data).then(function (resp) {\n      var _resp$data;\n      setPlaceList((_resp$data = resp.data) == null ? void 0 : _resp$data.places);\n    });\n  };\n  return _jsx(SelectMarkerContext.Provider, {\n    value: {\n      selectedMarker: selectedMarker,\n      setSelectedMarker: setSelectedMarker\n    },\n    children: _jsxs(View, {\n      children: [_jsxs(View, {\n        style: styles.headerContainer,\n        children: [_jsx(Header, {}), _jsx(SearchBar, {\n          searchedLocation: function searchedLocation(location) {\n            return setLocation({\n              latitude: location.lat,\n              longitude: location.lng\n            });\n          }\n        })]\n      }), !placeList ? _jsx(ActivityIndicator, {\n        size: 'large'\n      }) : _jsx(AppMapView, {\n        placeList: placeList\n      }), _jsx(View, {\n        style: styles.placeListContainer,\n        children: placeList && _jsx(PlaceListView, {\n          placeList: placeList\n        })\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  headerContainer: {\n    position: 'absolute',\n    zIndex: 10,\n    padding: 10,\n    width: '100%',\n    paddingHorizontal: 20\n  },\n  placeListContainer: {\n    position: 'absolute',\n    bottom: 0,\n    zIndex: 10,\n    width: '100%'\n  }\n});","map":{"version":3,"names":["React","useContext","useEffect","useState","AppMapView","Header","SearchBar","UserLocationContext","GlobalApi","PlaceListView","SelectMarkerContext","jsx","_jsx","jsxs","_jsxs","HomeScreen","_useContext","location","setLocation","_useState","_useState2","_slicedToArray","placeList","setPlaceList","_useState3","_useState4","selectedMarker","setSelectedMarker","GetNearByPlace","data","latitude","longitude","NewNearByPlace","then","resp","_resp$data","places","Provider","value","children","View","style","styles","headerContainer","searchedLocation","lat","lng","ActivityIndicator","size","placeListContainer","StyleSheet","create","position","zIndex","padding","width","paddingHorizontal","bottom"],"sources":["C:/Users/vivek/Downloads/final_yr_project/222957_EVChargingAppmain/EV-Charging-App-main/App/Screen/HomeScreen/HomeScreen.jsx"],"sourcesContent":["import { View, Text, StyleSheet, ActivityIndicator } from 'react-native'\nimport React, { useContext, useEffect, useState } from 'react'\nimport AppMapView from './AppMapView'\nimport Header from './Header'\nimport SearchBar from './SearchBar'\nimport { UserLocationContext } from '../../Context/UserLocationContext'\nimport GlobalApi from '../../Utils/GlobalApi'\nimport PlaceListView from './PlaceListView'\nimport { SelectMarkerContext } from '../../Context/SelectMarkerContext'\n\nexport default function HomeScreen() {\n\n  const { location, setLocation } = useContext(UserLocationContext);\n  const [placeList,setPlaceList]=useState([]);\n  const [selectedMarker,setSelectedMarker]=useState(0);\n  useEffect(()=>{\n    setSelectedMarker(0)\n    location&&GetNearByPlace();\n  },[location])\n\n  /**\n   * Used to get Near by place using google place api\n   */\n  const GetNearByPlace = () => {\n    const data = {\n      \"includedTypes\": [\"electric_vehicle_charging_station\"],\n      \"maxResultCount\": 10,\n      \"locationRestriction\": {\n        \"circle\": {\n          \"center\": {\n            \"latitude\": location?.latitude,\n            \"longitude\": location?.longitude\n          },\n          \"radius\": 5000.0\n        }\n      }\n    }\n    GlobalApi.NewNearByPlace(data).then(resp => {\n      setPlaceList(resp.data?.places);\n    })\n  }\n\n  return (\n    <SelectMarkerContext.Provider value={{selectedMarker,setSelectedMarker}}>\n    <View>\n      <View style={styles.headerContainer}>\n        <Header />\n        <SearchBar \n        searchedLocation={(location) => \n        setLocation({\n          latitude:location.lat,\n          longitude:location.lng\n        })} />\n      </View>\n      {!placeList?<ActivityIndicator size={'large'}/>\n      : <AppMapView placeList={placeList}/>}\n      <View style={styles.placeListContainer}>\n        {placeList&&<PlaceListView placeList={placeList} />}\n      </View>\n    </View>\n    </SelectMarkerContext.Provider>\n  )\n}\nconst styles = StyleSheet.create({\n  headerContainer: {\n    position: 'absolute',\n    zIndex: 10,\n    padding: 10,\n    width: '100%',\n    paddingHorizontal: 20\n  },\n  placeListContainer:{\n    position:'absolute',\n    bottom:0,\n    zIndex:10,\n    width:'100%'\n  }\n})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}