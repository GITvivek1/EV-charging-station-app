{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport React from 'react';\nimport Colors from \"../../Utils/Colors\";\nimport GlobalApi from \"../../Utils/GlobalApi\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { Ionicons } from '@expo/vector-icons';\nimport { getFirestore } from \"firebase/firestore\";\nimport { app } from \"../../Utils/FirebaseConfig\";\nimport { doc, setDoc, deleteDoc } from \"firebase/firestore\";\nimport { useUser } from '@clerk/clerk-expo';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function PlaceItem(_ref) {\n  var _place$photos$, _place$displayName, _place$evChargeOption;\n  var place = _ref.place,\n    isFav = _ref.isFav,\n    markedFav = _ref.markedFav;\n  var PLACE_PHOTO_BASE_URL = \"https://places.googleapis.com/v1/\";\n  var _useUser = useUser(),\n    user = _useUser.user;\n  var db = getFirestore(app);\n  var onSetFav = function () {\n    var _ref2 = _asyncToGenerator(function* (place) {\n      var _user$primaryEmailAdd;\n      yield setDoc(doc(db, \"ev-fav-place\", place.id.toString()), {\n        place: place,\n        email: user == null ? void 0 : (_user$primaryEmailAdd = user.primaryEmailAddress) == null ? void 0 : _user$primaryEmailAdd.emailAddress\n      });\n      markedFav();\n      ToastAndroid.show('Fav Added!', ToastAndroid.TOP);\n    });\n    return function onSetFav(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var onRemoveFav = function () {\n    var _ref3 = _asyncToGenerator(function* (placeId) {\n      console.log(placeId);\n      yield deleteDoc(doc(db, \"ev-fav-place\", placeId.toString()));\n      ToastAndroid.show('Fav Removed!', ToastAndroid.TOP);\n      markedFav();\n    });\n    return function onRemoveFav(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var onDirectionClick = function onDirectionClick() {\n    var _place$location, _place$location2;\n    var url = Platform.select({\n      ios: \"maps:\" + place.location.latitude + \",\" + (place == null ? void 0 : (_place$location = place.location) == null ? void 0 : _place$location.longitude) + \"?q=\" + (place == null ? void 0 : place.formattedAddress),\n      android: \"geo:\" + place.location.latitude + \",\" + (place == null ? void 0 : (_place$location2 = place.location) == null ? void 0 : _place$location2.longitude) + \"?q=\" + (place == null ? void 0 : place.formattedAddress)\n    });\n    Linking.openURL(url);\n  };\n  return _jsx(View, {\n    style: {\n      backgroundColor: Colors.WHITE,\n      margin: 5,\n      borderRadius: 10,\n      width: Dimensions.get('screen').width * 0.9,\n      marginHorizontal: 20\n    },\n    children: _jsxs(LinearGradient, {\n      colors: ['transparent', '#ffffffff', '#ffffff'],\n      children: [!isFav ? _jsx(Pressable, {\n        style: {\n          position: 'absolute',\n          right: 0,\n          margin: 5\n        },\n        onPress: function onPress() {\n          return onSetFav(place);\n        },\n        children: _jsx(Ionicons, {\n          name: \"heart-outline\",\n          size: 30,\n          color: \"white\"\n        })\n      }) : _jsx(Pressable, {\n        style: {\n          position: 'absolute',\n          right: 0,\n          margin: 5\n        },\n        onPress: function onPress() {\n          return onRemoveFav(place.id);\n        },\n        children: _jsx(Ionicons, {\n          name: \"heart-sharp\",\n          size: 30,\n          color: \"red\"\n        })\n      }), _jsx(Image, {\n        source: place != null && place.photos ? {\n          uri: PLACE_PHOTO_BASE_URL + (place == null ? void 0 : (_place$photos$ = place.photos[0]) == null ? void 0 : _place$photos$.name) + \"/media?key=\" + (GlobalApi == null ? void 0 : GlobalApi.API_KEY) + \"&maxHeightPx=800&maxWidthPx=1200\"\n        } : require(\"./../../../assets/images/ev-charging.png\"),\n        style: {\n          width: '100%',\n          borderRadius: 10,\n          height: 140,\n          zIndex: -1\n        }\n      }), _jsxs(View, {\n        style: {\n          padding: 15\n        },\n        children: [_jsx(Text, {\n          numberOfLines: 1,\n          style: {\n            fontSize: 23,\n            fontFamily: 'outfit-medium'\n          },\n          children: (_place$displayName = place.displayName) == null ? void 0 : _place$displayName.text\n        }), _jsx(Text, {\n          style: {\n            color: Colors.GRAY,\n            fontFamily: 'outfit'\n          },\n          children: place == null ? void 0 : place.shortFormattedAddress\n        }), _jsxs(View, {\n          style: {\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            marginTop: 15\n          },\n          children: [_jsxs(View, {\n            style: {},\n            children: [_jsx(Text, {\n              style: {\n                fontFamily: 'outfit',\n                color: Colors.GRAY,\n                fontSize: 17\n              },\n              children: \"Connectors\"\n            }), _jsxs(Text, {\n              style: {\n                fontFamily: 'outfit-medium',\n                fontSize: 20,\n                marginTop: 2\n              },\n              children: [place == null ? void 0 : (_place$evChargeOption = place.evChargeOptions) == null ? void 0 : _place$evChargeOption.connectorCount, \" Points\"]\n            })]\n          }), _jsx(Pressable, {\n            onPress: function onPress() {\n              return onDirectionClick();\n            },\n            style: {\n              padding: 12,\n              backgroundColor: Colors.PRIMARY,\n              borderRadius: 6,\n              paddingHorizontal: 14\n            },\n            children: _jsx(FontAwesome, {\n              name: \"location-arrow\",\n              size: 25,\n              color: \"white\"\n            })\n          })]\n        })]\n      })]\n    })\n  });\n}","map":{"version":3,"names":["React","Colors","GlobalApi","LinearGradient","FontAwesome","Ionicons","getFirestore","app","doc","setDoc","deleteDoc","useUser","jsx","_jsx","jsxs","_jsxs","PlaceItem","_ref","_place$photos$","_place$displayName","_place$evChargeOption","place","isFav","markedFav","PLACE_PHOTO_BASE_URL","_useUser","user","db","onSetFav","_ref2","_asyncToGenerator","_user$primaryEmailAdd","id","toString","email","primaryEmailAddress","emailAddress","ToastAndroid","show","TOP","_x","apply","arguments","onRemoveFav","_ref3","placeId","console","log","_x2","onDirectionClick","_place$location","_place$location2","url","Platform","select","ios","location","latitude","longitude","formattedAddress","android","Linking","openURL","View","style","backgroundColor","WHITE","margin","borderRadius","width","Dimensions","get","marginHorizontal","children","colors","Pressable","position","right","onPress","name","size","color","Image","source","photos","uri","API_KEY","require","height","zIndex","padding","Text","numberOfLines","fontSize","fontFamily","displayName","text","GRAY","shortFormattedAddress","display","flexDirection","alignItems","justifyContent","marginTop","evChargeOptions","connectorCount","PRIMARY","paddingHorizontal"],"sources":["C:/Users/vivek/Downloads/final_yr_project/222957_EVChargingAppmain/EV-Charging-App-main/App/Screen/HomeScreen/PlaceItem.jsx"],"sourcesContent":["import { View, Text, Image, Dimensions, Pressable, ToastAndroid, Platform, Linking } from 'react-native'\nimport React from 'react'\nimport Colors from '../../Utils/Colors'\nimport GlobalApi from '../../Utils/GlobalApi';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { Ionicons } from '@expo/vector-icons';\nimport { getFirestore } from \"firebase/firestore\";\nimport { app } from '../../Utils/FirebaseConfig';\nimport { doc, setDoc,deleteDoc  } from \"firebase/firestore\";\nimport { useUser } from '@clerk/clerk-expo';\nexport default function PlaceItem({ place, isFav, markedFav }) {\n  const PLACE_PHOTO_BASE_URL = \"https://places.googleapis.com/v1/\";\n  const { user } = useUser();\n  const db = getFirestore(app);\n  /**\n   * Used to save Fav on Click of Heart Icon\n   * @param {*} place Place Object\n   */\n  const onSetFav = async (place) => {\n    await setDoc(doc(db, \"ev-fav-place\", (place.id).toString()), {\n      place: place,\n      email: user?.primaryEmailAddress?.emailAddress\n    }\n    );\n    markedFav()\n    ToastAndroid.show('Fav Added!', ToastAndroid.TOP);\n  }\n\n  /**\n   * Used to remove Fav from List\n   * @param {*} placeId \n   */\n  const onRemoveFav=async(placeId)=>{\n    console.log(placeId)\n     await deleteDoc(doc(db, \"ev-fav-place\", placeId.toString()));\n     ToastAndroid.show('Fav Removed!', ToastAndroid.TOP);\n     markedFav()\n  }\n\n  /**\n   * On Direction Click Navigate to Google Map/Apple Map\n   */\n  const onDirectionClick=()=>{\n    const url=Platform.select({\n      ios:\"maps:\"+place.location.latitude+\",\"+place?.location?.longitude+\"?q=\"+place?.formattedAddress,\n      android:\"geo:\"+place.location.latitude+\",\"+place?.location?.longitude+\"?q=\"+place?.formattedAddress,\n    });\n\n    Linking.openURL(url);\n  }\n  return (\n    <View\n      style={{\n        backgroundColor: Colors.WHITE,\n        margin: 5,\n        borderRadius: 10,\n        width: Dimensions.get('screen').width * 0.9,\n        marginHorizontal: 20\n      }}\n    >\n      <LinearGradient\n        colors={['transparent', '#ffffffff', '#ffffff']}\n      >\n      {!isFav?  <Pressable style={{\n          position: 'absolute', right: 0,\n          margin: 5\n        }}\n          onPress={() => onSetFav(place)}\n        >\n          <Ionicons name=\"heart-outline\" size={30}\n            color=\"white\" />\n        </Pressable>:\n        <Pressable style={{\n          position: 'absolute', right: 0,\n          margin: 5\n        }}\n          onPress={() => onRemoveFav(place.id)}\n        >\n          <Ionicons name=\"heart-sharp\" size={30}\n            color=\"red\" />\n        </Pressable>}\n        <Image source={\n          place?.photos ?\n            {\n              uri: PLACE_PHOTO_BASE_URL + place?.photos[0]?.name +\n                \"/media?key=\" + GlobalApi?.API_KEY + \"&maxHeightPx=800&maxWidthPx=1200\"\n            }\n            : require('./../../../assets/images/ev-charging.png')}\n          style={{\n            width: '100%', borderRadius: 10,\n            height: 140, zIndex: -1\n          }}\n        />\n        <View style={{ padding: 15 }}>\n          <Text numberOfLines={1} style={{\n            fontSize: 23,\n            fontFamily: 'outfit-medium'\n          }}>{place.displayName?.text}</Text>\n          <Text style={{\n            color: Colors.GRAY,\n            fontFamily: 'outfit'\n          }}>{place?.shortFormattedAddress}</Text>\n          <View style={{\n            display: 'flex', flexDirection: 'row',\n            alignItems: 'center', justifyContent: 'space-between', marginTop: 15\n          }}>\n            <View style={{\n\n\n            }}>\n              <Text style={{\n                fontFamily: 'outfit',\n                color: Colors.GRAY,\n                fontSize: 17\n              }}>Connectors</Text>\n              <Text style={{\n                fontFamily: 'outfit-medium',\n                fontSize: 20,\n                marginTop: 2\n              }}>{place?.evChargeOptions?.connectorCount} Points</Text>\n            </View>\n            <Pressable \n            onPress={()=>onDirectionClick()}\n            style={{\n              padding: 12, backgroundColor: Colors.PRIMARY,\n              borderRadius: 6, paddingHorizontal: 14\n            }}>\n              <FontAwesome name=\"location-arrow\"\n                size={25} color=\"white\" />\n            </Pressable>\n          </View>\n        </View>\n      </LinearGradient>\n    </View>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}